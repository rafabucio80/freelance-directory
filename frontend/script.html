<script>
  document.addEventListener('DOMContentLoaded', () => {
    google.script.run.withSuccessHandler(showFreelancers).getFreelancers();
  });

  function showFreelancers(data) {
    const container = document.getElementById('freelancers-container');
    data.forEach(freelancer => {
      container.innerHTML += `
        <div class="freelancer-card ${freelancer.premium ? 'premium' : ''}">
          <img src="${freelancer.foto}" class="profile-img">
          <h3>${freelancer.nombre} ${freelancer.premium ? '‚≠ê' : ''}</h3>
          <p>${freelancer.pais}</p>
          <div class="skills">
            ${[...freelancer.habilidades, ...freelancer.lenguajes].map(skill => `
              <span class="badge">${skill.trim()}</span>
            `).join('')}
          </div>
          <a href="${freelancer.cv}" target="_blank" class="cv-button">Descargar CV</a>
        </div>
      `;
    });
  }
</script>
